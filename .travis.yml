language: java

jdk: openjdk8

env:
  global:
    - GITHUB_USER=joffrey-bion
    - BINTRAY_USER=joffrey-bion
    - BINTRAY_REPO=maven
    - secure: "yINOuaEmS5MrwWsBnuPmfE/Xa5BgwV4dnCbCV1+C50eY18/1LuPIHWud6r+icE8LMSg8BeIioGu0ewqrbihcgCTRQsS7Uo8JIjgbekbSWEuRVSsVjfgEfyHtymt/09TLHImso1SI1AhxaYiAh+npXQfogBMxRrVKnOAUu2zLCEXxTpSH0i+d3sg4ZejTgOUq5HxmtUZUqJtmKvCTSRhgFw/L1K/booAsu2KgmPWkZDqFEj4o1FN0ck39qsntLk8Wo1R2aLbICaDk+b4ZMB6mD1LLVCkexdpLEFP+pduiYBLjSRg2GvhrckuLtkfUmQgJfzNKUzBNnBmAZ805GFF2WncENx45FW2BXTXaVTtb9nhoHeMgz9HL0XpQtAHy2SzU8NHC4oPN8Z/EATM/hyTdT7gtcRmzYZl33BQz8ztYYXpZNMSTQVi8KOlrAttTkXQbttjzm8xmdNOartkbJmlU2/hhRKv0QksJgH+xb3pMr71ezWUZUVtIT9synQPpTl5cVtSJPrbmbMTl7NLfQmEQi4xEoq0U9m6wN257LRPtDDu63zIML6zbqljRGDJBl1sOPlCAWLxLjYZRe5o1DWEyRnxomj/k7gYgKMkhdQiwNjaVvuQU18UEVSvvgVflbfnQMw2L3rLQyJgH9ehIL8whgv0rN+o1IDIdHOrj2SE8M/g="
    - secure: "UfDxXn4nPUsD7TmgX5YjR+Q1X61U2GauIPtTb9WkKWUlDn/G7r8FbZvS4yD9azDduL2M1kynriMjY+AuZzqxcrIVJ6RDXfpTWcDRU5zAlndVwb/U/KswmAHIPoZN6N2aiiYSOQh59O0oe8nC4B/h+WlY5rzcG7RVfJmrIu5rw+DCB6EsN1SY3LMXODZm7ViaqBNjRqq/Kx198XEA2NkXjXWxh0RQ1hNR3kjqH89xy78xpiehD9CyheiiN7KwH83doXFmW5yIk1+VZlBLN2p6LFBpLODAXwulXCaMpFWQW68JTYSG7XP+2CpqGM4kWbs7EXm05kwo5L4jlLtVt82bSTho1JQZi/x1QWK+g3R+BbnRQisqxDjGGruV3YRUmpdg7wgFjUYdEjtQBo7+B6n1wwiu73liPZ9lqFnh32q1i8nCRy20FsQXipfbN3O/tEE+epYU0Frne3vj+mDnLKubexExFoZviFxamds3QLliaUXe7YOgyx/6aeZ+ihWc7AkstXSaS7QHMgw+u0vX9fLExgtKQEc3/SNyuhQXSva9VB+3X2LtPquvePFGnWdt/v+qKTsuNEs5w9dqRbPGMOrcN71dcumVJGjzPTsJjfMNmSj5VW8IIrHqOd2Rr+H3XdYEK85A4I9AmSTHYbgWPHhxa9KAPJewExZweZjey01GuVA="
    - secure: "T9OC3utbnRzGjZNGEEz7x2QldtRZbDjPPaym1vWOYGp2FWzbh6Th9K5W+fPshtYW1ZnoK2AKSJkBXgsuCcOx5MhT/C2GfjK+Lehs66DwRVVKS8akWsNMq1aQXNe9shmS1pmUdMdahTnerAH+8jEoPapAJ59x+xvMFXnUNuexvHEJgeLv5mB5t/CSxd9MnbVBvhRgi1TLC155c+pt0uwEQzlhZTIRJwBQ5x+vrPN1xEpFyXRQ4sncSWW+y0sfBMEvHe9+lNtosFoMtDp5IVofOQHzIjkW1PckWWmw0AxqeR+DxUfBSNp4ozqL8NpUDGmTgdTas8OnQoi6Qw2IZcCbPfH5ZTVwPOIXAWtOc2tvvtFBU31QZeIwZesFXrvaHKqaCAAr4Ksleu7Cr5Ifa9S8mI8EjxRZEhHUze1pWXD2ufUQOlwthr7mHJzKjX73X9ZGLj6rKK/IYP6FeGV/SfY4rze62JSOjKI0b5gHeQlY3dO/CGSCuQnz3HsA6ZsPAhuJX2o9RZEJjfQylG2JtV2n1wCzYyPWwsevJ9YhBDUJQ5vPD70P/HKBvT09WoTaO6GFijdCVqEvTK1M/gcnWjHInfdHFgjkyrYpaMYM6Ikjm06okk0zppjm30kDSVjHNqVl+xpLv14wbrH+sM0AZrpE5YPHo7n9VA/jLe05IBRhwFU="
    - secure: "yO5dRDI8xQ453+zIxTGs58e1WPb0OkO2cvvodAfjRCV82K5NDsD2jDDV4jdNFak4HPZcNfSxxmQVt5vgZe7EYAAzvsgZt8PxJdex9EHMmlFvkqFia0CfIoRrqLAG1nMFw2LVxk7W2QZ6vOEErQ83VT3w++yDAKwuUm2alRTW3AMqbAj79ggzwwOSkIKmSkXpfJPFcm6FVLvQ/jSxVqJ8y7ixPSNq5eu78SE1nxsKA/KmiyZsCH/uxXl7oaJoIGo6s4gLR8MuqArvza5llNTvEdBH+I3uAdP90+gNjHtrmmLZGF1jsh0sUyh9fNPOicWfVs+FfWjfGpJLKyqFNrksnZqHnSkeF1sGdx9YrHl0IKk3DNUTU54ZacrDIgi2pFxxj97adS/l/OtI8+w2cOGqL+BlT4zCSgvrfr4woU/dAokSkID1gJd/E0Sg8etzxr3kaPWSmM7SFPl5ZFjCO2EplDE8NZUmFPx+fJSSWm25p6FmXc+pyGu8uA7V1hkq/8vDnCkZ7ZEz3/ZJWVF2JsCYYpt9WNDvRmSbaRclfsTq/ozSZ8sULbvjKrKqiMuhLldqHEtFkeVRxUV4PNZKJAMJJiHRWhacZKrUBbwdQMDd68JvTvRRin20KYOG+amFvH1U4qD6YzaNWrmoSBh7HVr1j9D4cVlXUDEA0R3mP7sikys="

deploy:
  - provider: script
    script: ./gradlew bintrayUpload
    on:
      tags: true

# These files change at every build, and should not be cached
# https://docs.travis-ci.com/user/languages/java/#Caching
before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

# Cache Gradle's dependencies and wrapper download
cache:
  directories:
    - $HOME/.gradle/caches/
    - $HOME/.gradle/wrapper/
